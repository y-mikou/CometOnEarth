# 機能

## 禁則処理・その他修正必要箇所検出モード

指定文字数で折り返して版面を作成したとき、<br>
禁則処理その他要素によって体裁が崩れ修正を必要とする可能性がある箇所を検出してフォーカスする。

修正した結果、体裁崩れの可能性がなくなったことを確認する。

<img width="566" height="246" alt="Image" src="https://github.com/user-attachments/assets/9992746a-1ca1-45b2-8573-65528cd1a227" />


## 簡易折り返し表示モード

指定文字で折り返した状態を、簡易的につくって表示する。

<img width="829" height="495" alt="Image" src="https://github.com/user-attachments/assets/a0579dba-d0e8-4ad9-b16a-a87586713457" />


# オキモチと目的

当ツールの想定ユーザは非常に特殊で限定的です。自分用。

組版実行後の版面から、体裁が崩れている状態※を探すのは目視となるため、辛い。

組版流し込み時に体裁が崩れる※可能性がある箇所を、テキストベースで予め警告表示するのが当ツールの目的です。

以下の体裁※を目指すケースでしか使用価値がありません。

## ※「体裁崩れ」について

組版時、以下の状態を目指場合にのみこのツールは使用可能となります。<br>
※必ずしも禁則処理のことではない

- 日本語小説のような版面を前提にしている
  - 大前提は、方眼罫のような版面を目指す。
  - プロポーシャルな字幅は採用しない(等幅、全角・半角の2種幅のみを規定)
- 句読点の行末ぶら下がりを許容しない。
  - これは「追い出し」「追い込み」を一切行わないことを指す。
- 行頭が句読点や閉じ括弧類であることを許容しない。
- 行末が開き括弧類であることを許容しない。
- 3文字以内で終了する行を許容しない
- ルビの配置によって母字の位置調整は行わない
  - ルビ文字は、母字1/2サイズとする
  - 母字に対して大幅に長いルビを、母字の範囲からはみ出して配置することを許容する
- 半角英数記号は2文字で全角1文字相当の幅を持つ前提である

# フォーカスする作業

前述の条件を満たした版面を目指すため、<br>
前述の条件を満たさない行については、<br>
前述の条件を満たすように文字を盛ったり削ったりする。<br>
当ツールはその作業を軽減する。

---

【組版前】<br>
　吾輩は猫である。名前はまだ無い。<br>
　どこで生れたかとんと見当けんとうがつかぬ。何でも薄暗いじめじめした所でニャーニャー泣いていた事だけは、記憶して
いる。<br>
　吾輩はここで始めて人間というものを見た。しかもあとで聞くと、それは書生という人間中で一番獰悪な種族であったそうだ。

---

↓ただ版面に流し込むと以下のようになる

---

【修正前】<br>
　吾輩は猫である。名前はまだ無い。<br>
　どこで生れたかとんと見当けんとうがつかぬ。何でも薄暗い<br>
じめじめした所でニャーニャー泣いていた事だけは、記憶して<br>
いる。<br>
　吾輩はここで始めて人間というものを見た。しかもあとで聞<br>
くとそれは書生という人間中で一番獰悪な種族であったそうだ<br>
。

---

↓以下のように内容を修正する。

---

【修正後】<br>
　吾輩は猫である。名前はまだ無い。<br>
　どこで生れたかとんと見当けんとうがつかぬ。何でも薄暗い<br>
じめじめした所でニャーニャー泣いていた事は記憶している。<br>
　吾輩はここで始めて人間というものを見た。しかもあとで聞<br>
くとそれは書生という人間中で一番獰悪な種族だったそうだ。<br>

---

こうした組版を前提とし、<br>
【組版前】の状態を入力として実行すると、<br>
「いる。」や「。」の行が予め予見できることを目指す。
